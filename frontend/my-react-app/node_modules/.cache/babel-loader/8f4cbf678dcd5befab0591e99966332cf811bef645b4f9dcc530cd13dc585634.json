{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CreateReportForm=()=>{const[ticketId,setTicketId]=useState('');const[userRate,setUserRate]=useState(null);const[status,setStatus]=useState(null);const[resolutionTime,setResolutionTime]=useState(null);useEffect(()=>{// Fetch initial data if needed\n},[]);const handleSubmit=async e=>{e.preventDefault();try{// Make API call to create report\nconst response=await fetch(\"http://localhost:3000/Reports/create/\".concat(ticketId),{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include'// Add other headers if needed\n});if(response.ok){const newReport=await response.json();console.log('Report created successfully:',newReport);// Update state with report details\nsetUserRate(newReport.UserRate);setStatus(newReport.Status);setResolutionTime(newReport.ResolutionTime);// Handle success (e.g., show a success message, update state, etc.)\n}else{const errorData=await response.json();console.error('Error creating report:',errorData.message);// Handle error (e.g., show an error message)\n}}catch(error){console.error('Error creating report:',error);// Handle network error or other unexpected issues\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Report\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ticketId\",children:\"Ticket ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"ticketId\",value:ticketId,onChange:e=>setTicketId(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Report\"})]}),userRate!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Report Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"User Rate: \",userRate]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Resolution Time: \",resolutionTime,\" seconds\"]})]})]});};export default CreateReportForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CreateReportForm","ticketId","setTicketId","userRate","setUserRate","status","setStatus","resolutionTime","setResolutionTime","handleSubmit","e","preventDefault","response","fetch","concat","method","headers","credentials","ok","newReport","json","console","log","UserRate","Status","ResolutionTime","errorData","error","message","children","onSubmit","htmlFor","type","id","value","onChange","target","required"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/reportComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst CreateReportForm = () => {\n  const [ticketId, setTicketId] = useState('');\n  const [userRate, setUserRate] = useState(null);\n  const [status, setStatus] = useState(null);\n  const [resolutionTime, setResolutionTime] = useState(null);\n\n  useEffect(() => {\n    // Fetch initial data if needed\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      // Make API call to create report\n      const response = await fetch(`http://localhost:3000/Reports/create/${ticketId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        // Add other headers if needed\n      });\n\n      if (response.ok) {\n        const newReport = await response.json();\n        console.log('Report created successfully:', newReport);\n\n        // Update state with report details\n        setUserRate(newReport.UserRate);\n        setStatus(newReport.Status);\n        setResolutionTime(newReport.ResolutionTime);\n\n        // Handle success (e.g., show a success message, update state, etc.)\n      } else {\n        const errorData = await response.json();\n        console.error('Error creating report:', errorData.message);\n        // Handle error (e.g., show an error message)\n      }\n    } catch (error) {\n      console.error('Error creating report:', error);\n      // Handle network error or other unexpected issues\n    }\n  };\n\n  return (\n    <div>\n      <h2>Create Report</h2>\n      <form onSubmit={handleSubmit}>\n        {/* Add form fields, e.g., ticket ID input */}\n        <label htmlFor=\"ticketId\">Ticket ID:</label>\n        <input\n          type=\"text\"\n          id=\"ticketId\"\n          value={ticketId}\n          onChange={(e) => setTicketId(e.target.value)}\n          required\n        />\n\n        {/* Add other form fields as needed */}\n\n        <button type=\"submit\">Create Report</button>\n      </form>\n\n      {/* Display report details */}\n      {userRate !== null && (\n        <div>\n          <h3>Report Details</h3>\n          <p>User Rate: {userRate}</p>\n          <p>Status: {status}</p>\n          <p>Resolution Time: {resolutionTime} seconds</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreateReportForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}