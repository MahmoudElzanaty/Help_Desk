{"ast":null,"code":"import'../App.css';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TicketForm=()=>{const[ticketData,setTicketData]=useState({category:'',subcategory:'',description:''});const[ticketMessage,setTicketMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setTicketData(prevData=>({...prevData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:3000/Tickets/createTicket',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(ticketData),credentials:'include'});if(response.ok){setTicketMessage('Ticket created successfully');}else{setTicketMessage('Choose a category/sub category');}}catch(error){console.error('Error:',error);setTicketMessage('An error occurred during the process of creating a ticket. Please try again.');}};const categoryOptions=['Hardware','Software','Network'];const subcategoryOptions={Hardware:['Desktops','Laptops','Printers','Servers','Networking equipment'],Software:['Operating system','Application software','Custom software','Integration issues'],Network:['Email issues','Internet connection problems','Website errors']};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a New Ticket\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Category:\",/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:ticketData.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a category\"}),categoryOptions.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Subcategory:\",/*#__PURE__*/_jsxs(\"select\",{name:\"subcategory\",value:ticketData.subcategory,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a subcategory\"}),ticketData.category&&subcategoryOptions[ticketData.category].map(subcategory=>/*#__PURE__*/_jsx(\"option\",{value:subcategory,children:subcategory},subcategory))]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:ticketData.description,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Ticket\"})]}),ticketMessage&&/*#__PURE__*/_jsx(\"p\",{children:ticketMessage})]});};export default TicketForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TicketForm","ticketData","setTicketData","category","subcategory","description","ticketMessage","setTicketMessage","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","credentials","ok","error","console","categoryOptions","subcategoryOptions","Hardware","Software","Network","children","onSubmit","onChange","required","disabled","map","type"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/createTicketComponent.js"],"sourcesContent":["import '../App.css';\nimport React, { useState } from 'react';\n\n\nconst TicketForm = () => {\n  const [ticketData, setTicketData] = useState({\n    category: '',\n    subcategory: '',\n    description: '',\n  });\n\n  const [ticketMessage, setTicketMessage] = useState('');\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setTicketData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:3000/Tickets/createTicket', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(ticketData),\n        credentials: 'include',\n      });\n\n      if (response.ok) {\n        setTicketMessage('Ticket created successfully');\n      } else {\n        setTicketMessage('Choose a category/sub category');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setTicketMessage('An error occurred during the process of creating a ticket. Please try again.');\n    }\n  };\n\n  const categoryOptions = ['Hardware', 'Software', 'Network'];\n  const subcategoryOptions = {\n    Hardware: ['Desktops', 'Laptops', 'Printers', 'Servers', 'Networking equipment'],\n    Software: ['Operating system', 'Application software', 'Custom software', 'Integration issues'],\n    Network: ['Email issues', 'Internet connection problems', 'Website errors'],\n  };\n\n  return (\n    <div>\n      <h2>Create a New Ticket</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Category:\n          <select\n            name=\"category\"\n            value={ticketData.category}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\" disabled>Select a category</option>\n            {categoryOptions.map((category) => (\n              <option key={category} value={category}>\n                {category}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <br />\n\n        <label>\n          Subcategory:\n          <select\n            name=\"subcategory\"\n            value={ticketData.subcategory}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\" disabled>Select a subcategory</option>\n            {ticketData.category &&\n              subcategoryOptions[ticketData.category].map((subcategory) => (\n                <option key={subcategory} value={subcategory}>\n                  {subcategory}\n                </option>\n              ))}\n          </select>\n        </label>\n\n        <br />\n\n        <label>\n          Description:\n          <textarea\n            name=\"description\"\n            value={ticketData.description}\n            onChange={handleChange}\n            required\n          />\n        </label>\n\n        <br />\n\n        <button type=\"submit\">Create Ticket</button>\n      </form>\n      {ticketMessage && <p>{ticketMessage}</p>}\n    </div>\n  );\n};\n\nexport default TicketForm;\n"],"mappings":"AAAA,MAAO,YAAY,CACnB,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGxC,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGP,QAAQ,CAAC,CAC3CQ,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EACf,CAAC,CAAC,CAEF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAAAa,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCV,aAAa,CAAEW,QAAQ,GAAM,CAC3B,GAAGA,QAAQ,CACX,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4CAA4C,CAAE,CACzEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACrB,UAAU,CAAC,CAChCsB,WAAW,CAAE,SACf,CAAC,CAAC,CAEF,GAAIP,QAAQ,CAACQ,EAAE,CAAE,CACfjB,gBAAgB,CAAC,6BAA6B,CAAC,CACjD,CAAC,IAAM,CACLA,gBAAgB,CAAC,gCAAgC,CAAC,CACpD,CACF,CAAE,MAAOkB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BlB,gBAAgB,CAAC,8EAA8E,CAAC,CAClG,CACF,CAAC,CAED,KAAM,CAAAoB,eAAe,CAAG,CAAC,UAAU,CAAE,UAAU,CAAE,SAAS,CAAC,CAC3D,KAAM,CAAAC,kBAAkB,CAAG,CACzBC,QAAQ,CAAE,CAAC,UAAU,CAAE,SAAS,CAAE,UAAU,CAAE,SAAS,CAAE,sBAAsB,CAAC,CAChFC,QAAQ,CAAE,CAAC,kBAAkB,CAAE,sBAAsB,CAAE,iBAAiB,CAAE,oBAAoB,CAAC,CAC/FC,OAAO,CAAE,CAAC,cAAc,CAAE,8BAA8B,CAAE,gBAAgB,CAC5E,CAAC,CAED,mBACEhC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAAmC,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BjC,KAAA,SAAMkC,QAAQ,CAAEnB,YAAa,CAAAkB,QAAA,eAC3BjC,KAAA,UAAAiC,QAAA,EAAO,WAEL,cAAAjC,KAAA,WACEW,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEV,UAAU,CAACE,QAAS,CAC3B+B,QAAQ,CAAE1B,YAAa,CACvB2B,QAAQ,MAAAH,QAAA,eAERnC,IAAA,WAAQc,KAAK,CAAC,EAAE,CAACyB,QAAQ,MAAAJ,QAAA,CAAC,mBAAiB,CAAQ,CAAC,CACnDL,eAAe,CAACU,GAAG,CAAElC,QAAQ,eAC5BN,IAAA,WAAuBc,KAAK,CAAER,QAAS,CAAA6B,QAAA,CACpC7B,QAAQ,EADEA,QAEL,CACT,CAAC,EACI,CAAC,EACJ,CAAC,cAERN,IAAA,QAAK,CAAC,cAENE,KAAA,UAAAiC,QAAA,EAAO,cAEL,cAAAjC,KAAA,WACEW,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAEV,UAAU,CAACG,WAAY,CAC9B8B,QAAQ,CAAE1B,YAAa,CACvB2B,QAAQ,MAAAH,QAAA,eAERnC,IAAA,WAAQc,KAAK,CAAC,EAAE,CAACyB,QAAQ,MAAAJ,QAAA,CAAC,sBAAoB,CAAQ,CAAC,CACtD/B,UAAU,CAACE,QAAQ,EAClByB,kBAAkB,CAAC3B,UAAU,CAACE,QAAQ,CAAC,CAACkC,GAAG,CAAEjC,WAAW,eACtDP,IAAA,WAA0Bc,KAAK,CAAEP,WAAY,CAAA4B,QAAA,CAC1C5B,WAAW,EADDA,WAEL,CACT,CAAC,EACE,CAAC,EACJ,CAAC,cAERP,IAAA,QAAK,CAAC,cAENE,KAAA,UAAAiC,QAAA,EAAO,cAEL,cAAAnC,IAAA,aACEa,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAEV,UAAU,CAACI,WAAY,CAC9B6B,QAAQ,CAAE1B,YAAa,CACvB2B,QAAQ,MACT,CAAC,EACG,CAAC,cAERtC,IAAA,QAAK,CAAC,cAENA,IAAA,WAAQyC,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,eAAa,CAAQ,CAAC,EACxC,CAAC,CACN1B,aAAa,eAAIT,IAAA,MAAAmC,QAAA,CAAI1B,aAAa,CAAI,CAAC,EACrC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}