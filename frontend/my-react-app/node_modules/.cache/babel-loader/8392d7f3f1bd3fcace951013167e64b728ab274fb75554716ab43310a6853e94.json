{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import LoginForm from'./components/loginComponent';// Update the path\nimport RegisterForm from'./components/registerComponent';import HomePage from'./components/homeComponent';import AdminDashboard from'./components/Admin';import UserDashboard from'./components/User';import ManagerDashboard from'./components/Manager';import AgentDashboard from'./components/Agent';import CreateTicket from'./components/createTicketComponent';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[userRole,setUserRole]=useState(null);const[userId,setUserId]=useState(null);useEffect(()=>{const storedRole=localStorage.getItem('userRole');const storedUserId=localStorage.getItem('userId');if(storedRole){setUserRole(storedRole);}if(storedUserId){setUserId(storedUserId);}},[]);const handleLogin=(role,id)=>{setUserRole(role);setUserId(id);localStorage.setItem('userRole',role);localStorage.setItem('userId',id);window.location.replace(\"/\".concat(role.toLowerCase()));};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{userRole:userRole,setUserRole:setUserRole})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{handleLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/manager\",element:/*#__PURE__*/_jsx(ManagerDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/agent\",element:/*#__PURE__*/_jsx(AgentDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/create-ticket\",element:/*#__PURE__*/_jsx(CreateTicket,{userId:userId})}),/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));export default App;","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","LoginForm","RegisterForm","HomePage","AdminDashboard","UserDashboard","ManagerDashboard","AgentDashboard","CreateTicket","BrowserRouter","Router","Route","Routes","Navigate","jsx","_jsx","jsxs","_jsxs","App","userRole","setUserRole","userId","setUserId","storedRole","localStorage","getItem","storedUserId","handleLogin","role","id","setItem","window","location","replace","concat","toLowerCase","children","className","path","element","to","render","document","getElementById"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport LoginForm from './components/loginComponent'; // Update the path\nimport RegisterForm from './components/registerComponent';\nimport HomePage from './components/homeComponent';\nimport AdminDashboard from './components/Admin';\nimport UserDashboard from './components/User';\nimport ManagerDashboard from './components/Manager';\nimport AgentDashboard from './components/Agent';\nimport CreateTicket from './components/createTicketComponent';\n\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\n\nconst App = () => {\n  const [userRole, setUserRole] = useState(null);\n  const [userId, setUserId] = useState(null);\n\n  useEffect(() => {\n    const storedRole = localStorage.getItem('userRole');\n    const storedUserId = localStorage.getItem('userId');\n\n    if (storedRole) {\n      setUserRole(storedRole);\n    }\n\n    if (storedUserId) {\n      setUserId(storedUserId);\n    }\n  }, []);\n\n  const handleLogin = (role, id) => {\n    setUserRole(role);\n    setUserId(id);\n    localStorage.setItem('userRole', role);\n    localStorage.setItem('userId', id);\n    window.location.replace(`/${role.toLowerCase()}`);\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<HomePage userRole={userRole} setUserRole={setUserRole} />}\n          />\n          <Route path=\"/login\" element={<LoginForm handleLogin={handleLogin} />} />\n          <Route path=\"/register\" element={<RegisterForm />} />\n\n          {/* Actual dashboard components */}\n          <Route path=\"/admin\" element={<AdminDashboard />} />\n          <Route path=\"/user\" element={<UserDashboard />} />\n          <Route path=\"/manager\" element={<ManagerDashboard />} />\n          <Route path=\"/agent\" element={<AgentDashboard />} />\n          <Route path=\"/create-ticket\" element={<CreateTicket userId={userId} />} />\n\n          {/* Redirect to login if the user is not authenticated */}\n          <Route path=\"\" element={<Navigate to=\"/login\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}