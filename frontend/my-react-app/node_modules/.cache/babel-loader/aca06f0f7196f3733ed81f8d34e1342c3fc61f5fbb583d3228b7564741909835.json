{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Bar}from'react-chartjs-2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AnalyticsComponent=()=>{var _analyticsData$avgRat;const[agentId,setAgentId]=useState('');const[analyticsData,setAnalyticsData]=useState(null);const navigate=useNavigate();const handleFetchAnalytics=async()=>{try{const response=await fetch(\"http://localhost:3000/Reports/analytics/\".concat(agentId));if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}const data=await response.json();setAnalyticsData(data);}catch(error){console.error('Error fetching analytics data:',error);}};const chartData={labels:['Total Tickets','Open Tickets','Closed Tickets','In Progress Tickets','Average Rating'],datasets:[{label:'Analytics Data',backgroundColor:'rgba(75,192,192,0.2)',borderColor:'rgba(75,192,192,1)',borderWidth:1,hoverBackgroundColor:'rgba(75,192,192,0.4)',hoverBorderColor:'rgba(75,192,192,1)',data:[(analyticsData===null||analyticsData===void 0?void 0:analyticsData.totalTickets)||0,(analyticsData===null||analyticsData===void 0?void 0:analyticsData.openTickets)||0,(analyticsData===null||analyticsData===void 0?void 0:analyticsData.closedTickets)||0,(analyticsData===null||analyticsData===void 0?void 0:analyticsData.progressTickets)||0,(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$avgRat=analyticsData.avgRate)===null||_analyticsData$avgRat===void 0?void 0:_analyticsData$avgRat.averageRating)||0]}]};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Analytics Component\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Enter Agent ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:agentId,onChange:e=>setAgentId(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFetchAnalytics,children:\"Fetch Analytics\"}),analyticsData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Analytics Data\"}),/*#__PURE__*/_jsx(Bar,{data:chartData})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),children:\"Back to Dashboard\"})]});};export default AnalyticsComponent;","map":{"version":3,"names":["React","useState","useNavigate","Bar","jsx","_jsx","jsxs","_jsxs","AnalyticsComponent","_analyticsData$avgRat","agentId","setAgentId","analyticsData","setAnalyticsData","navigate","handleFetchAnalytics","response","fetch","concat","ok","Error","status","data","json","error","console","chartData","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","totalTickets","openTickets","closedTickets","progressTickets","avgRate","averageRating","children","type","value","onChange","e","target","onClick"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/analyticsComponent.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Bar } from 'react-chartjs-2';\n\nconst AnalyticsComponent = () => {\n  const [agentId, setAgentId] = useState('');\n  const [analyticsData, setAnalyticsData] = useState(null);\n  const navigate = useNavigate();\n\n  const handleFetchAnalytics = async () => {\n    try {\n      const response = await fetch(`http://localhost:3000/Reports/analytics/${agentId}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      setAnalyticsData(data);\n    } catch (error) {\n      console.error('Error fetching analytics data:', error);\n    }\n  };\n\n  const chartData = {\n    labels: ['Total Tickets', 'Open Tickets', 'Closed Tickets', 'In Progress Tickets', 'Average Rating'],\n    datasets: [\n      {\n        label: 'Analytics Data',\n        backgroundColor: 'rgba(75,192,192,0.2)',\n        borderColor: 'rgba(75,192,192,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(75,192,192,0.4)',\n        hoverBorderColor: 'rgba(75,192,192,1)',\n        data: [\n          analyticsData?.totalTickets || 0,\n          analyticsData?.openTickets || 0,\n          analyticsData?.closedTickets || 0,\n          analyticsData?.progressTickets || 0,\n          analyticsData?.avgRate?.averageRating || 0,\n        ],\n      },\n    ],\n  };\n\n  return (\n    <div>\n      <h2>Analytics Component</h2>\n      <label>\n        Enter Agent ID:\n        <input type=\"text\" value={agentId} onChange={(e) => setAgentId(e.target.value)} />\n      </label>\n      <button onClick={handleFetchAnalytics}>Fetch Analytics</button>\n\n      {analyticsData && (\n        <div>\n          <h3>Analytics Data</h3>\n          <Bar data={chartData} />\n        </div>\n      )}\n\n      <button onClick={() => navigate('/dashboard')}>Back to Dashboard</button>\n    </div>\n  );\n};\n\nexport default AnalyticsComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}