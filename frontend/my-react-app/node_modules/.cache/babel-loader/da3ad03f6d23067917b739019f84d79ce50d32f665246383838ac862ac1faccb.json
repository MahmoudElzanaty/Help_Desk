{"ast":null,"code":"import'../App.css';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{console.log('LoginForm rendering...');const[formData,setFormData]=useState({Email:'',password:''});const[loginMessage,setLoginMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:3000/api/v1/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData),credentials:'include'});if(response.ok){setLoginMessage('Login successful');}else{setLoginMessage('Login failed. Please check your email and password.');}}catch(error){console.error('Error:',error);console.error('Error Stack Trace:',error.stack);setLoginMessage(error.message||'An error occurred during login.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"Email\",value:formData.Email,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),loginMessage&&/*#__PURE__*/_jsx(\"p\",{children:loginMessage})]});};export default LoginForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","LoginForm","console","log","formData","setFormData","Email","password","loginMessage","setLoginMessage","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","credentials","ok","error","stack","message","children","onSubmit","type","onChange"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/loginComponent.js"],"sourcesContent":["import '../App.css';\nimport React, { useState } from 'react';\n\nconst LoginForm = () => {\n    console.log('LoginForm rendering...');\n  \n    const [formData, setFormData] = useState({\n      Email: '',\n      password: '',\n    });\n  \n    const [loginMessage, setLoginMessage] = useState('');\n  \n    const handleChange = (e) => {\n      const { name, value } = e.target;\n      setFormData((prevData) => ({\n        ...prevData,\n        [name]: value,\n      }));\n    };\n  \n    const handleSubmit = async (e) => {\n      e.preventDefault();\n      try {\n        const response = await fetch('http://localhost:3000/api/v1/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(formData),\n          credentials: 'include', \n        });\n  \n        if (response.ok) {\n          setLoginMessage('Login successful');\n        } else {\n          setLoginMessage('Login failed. Please check your email and password.');\n        }\n      } catch (error) {\n        console.error('Error:', error);\n        console.error('Error Stack Trace:', error.stack);\n        setLoginMessage(error.message || 'An error occurred during login.');\n      }\n    };\n  \n    return (\n      <div>\n        <h2>Login</h2>\n        <form onSubmit={handleSubmit}>\n          <label>\n            Email:\n            <input\n              type=\"email\"\n              name=\"Email\"\n              value={formData.Email}\n              onChange={handleChange}\n            />\n          </label>\n  \n          <br />\n  \n          <label>\n            Password:\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n            />\n          </label>\n  \n          <button type=\"submit\">Login</button>\n        </form>\n  \n        {loginMessage && <p>{loginMessage}</p>}\n      </div>\n    );\n  };\n  \n  export default LoginForm;\n  "],"mappings":"AAAA,MAAO,YAAY,CACnB,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAErC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CACvCU,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAAc,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCT,WAAW,CAAEU,QAAQ,GAAM,CACzB,GAAGA,QAAQ,CACX,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAE,CACjEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACpB,QAAQ,CAAC,CAC9BqB,WAAW,CAAE,SACf,CAAC,CAAC,CAEF,GAAIP,QAAQ,CAACQ,EAAE,CAAE,CACfjB,eAAe,CAAC,kBAAkB,CAAC,CACrC,CAAC,IAAM,CACLA,eAAe,CAAC,qDAAqD,CAAC,CACxE,CACF,CAAE,MAAOkB,KAAK,CAAE,CACdzB,OAAO,CAACyB,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BzB,OAAO,CAACyB,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAACC,KAAK,CAAC,CAChDnB,eAAe,CAACkB,KAAK,CAACE,OAAO,EAAI,iCAAiC,CAAC,CACrE,CACF,CAAC,CAED,mBACE7B,KAAA,QAAA8B,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAI,OAAK,CAAI,CAAC,cACd9B,KAAA,SAAM+B,QAAQ,CAAEf,YAAa,CAAAc,QAAA,eAC3B9B,KAAA,UAAA8B,QAAA,EAAO,QAEL,cAAAhC,IAAA,UACEkC,IAAI,CAAC,OAAO,CACZpB,IAAI,CAAC,OAAO,CACZC,KAAK,CAAET,QAAQ,CAACE,KAAM,CACtB2B,QAAQ,CAAEvB,YAAa,CACxB,CAAC,EACG,CAAC,cAERZ,IAAA,QAAK,CAAC,cAENE,KAAA,UAAA8B,QAAA,EAAO,WAEL,cAAAhC,IAAA,UACEkC,IAAI,CAAC,UAAU,CACfpB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAET,QAAQ,CAACG,QAAS,CACzB0B,QAAQ,CAAEvB,YAAa,CACxB,CAAC,EACG,CAAC,cAERZ,IAAA,WAAQkC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,CAENtB,YAAY,eAAIV,IAAA,MAAAgC,QAAA,CAAItB,YAAY,CAAI,CAAC,EACnC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}