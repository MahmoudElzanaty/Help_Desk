{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import LoginForm from'./components/loginComponent';// Update the path\nimport RegisterForm from'./components/registerComponent';import HomePage from'./components/homeComponent';import AdminDashboard from'./components/Admin';import UserDashboard from'./components/User';import ManagerDashboard from'./components/Manager';import AgentDashboard from'./components/Agent';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[userRole,setUserRole]=useState(null);useEffect(()=>{const storedRole=localStorage.getItem('userRole');if(storedRole){setUserRole(storedRole);}},[]);const handleLogin=role=>{setUserRole(role);localStorage.setItem('userRole',role);window.location.replace(\"/\".concat(role.toLowerCase()));};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{userRole:userRole,setUserRole:setUserRole})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{handleLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/manager\",element:/*#__PURE__*/_jsx(ManagerDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/agent\",element:/*#__PURE__*/_jsx(AgentDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})})});}ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));export default App;","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","LoginForm","RegisterForm","HomePage","AdminDashboard","UserDashboard","ManagerDashboard","AgentDashboard","BrowserRouter","Router","Route","Routes","Navigate","jsx","_jsx","jsxs","_jsxs","App","userRole","setUserRole","storedRole","localStorage","getItem","handleLogin","role","setItem","window","location","replace","concat","toLowerCase","children","className","path","element","to","render","document","getElementById"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport LoginForm from './components/loginComponent'; // Update the path\nimport RegisterForm from './components/registerComponent';\nimport HomePage from './components/homeComponent';\nimport AdminDashboard from './components/Admin';\nimport UserDashboard from './components/User';\nimport ManagerDashboard from './components/Manager';\nimport AgentDashboard from './components/Agent';\n\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\n\nfunction App() {\n  const [userRole, setUserRole] = useState(null);\n\n  useEffect(() => {\n    const storedRole = localStorage.getItem('userRole');\n\n    if (storedRole) {\n      setUserRole(storedRole);\n    }\n  }, []);\n\n  const handleLogin = (role) => {\n    setUserRole(role);\n    localStorage.setItem('userRole', role);\n    window.location.replace(`/${role.toLowerCase()}`);\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <HomePage\n                userRole={userRole}\n                setUserRole={setUserRole}\n              />\n            }\n          />\n          <Route\n            path=\"/login\"\n            element={<LoginForm handleLogin={handleLogin} />}\n          />\n          <Route path=\"/register\" element={<RegisterForm />} />\n\n          {/* Actual dashboard components */}\n          <Route path=\"/admin\" element={<AdminDashboard />} />\n          <Route path=\"/user\" element={<UserDashboard />} />\n          <Route path=\"/manager\" element={<ManagerDashboard />} />\n          <Route path=\"/agent\" element={<AgentDashboard />} />\n\n          {/* Redirect to login if the user is not authenticated */}\n          <Route\n            path=\"\"\n            element={<Navigate to=\"/login\" replace />}\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}