{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TicketPage=()=>{const[tickets,setTickets]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[searchType,setSearchType]=useState('id');useEffect(()=>{// Fetch all tickets from the database\nconst fetchTickets=async()=>{try{const response=await axios.get('http://localhost:3000/Tickets/getAllTickets');// Replace with your actual API endpoint\nsetTickets(response.data);}catch(error){console.error('Error fetching tickets:',error);}};fetchTickets();},[]);const handleSearch=async()=>{try{const response=await axios.get(\"/api/tickets/search?\".concat(searchType,\"=\").concat(searchTerm));setTickets(response.data);}catch(error){console.error('Error searching tickets:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tickets\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Search by:\",/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSearchType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"id\",children:\"ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sub_Category\",children:\"Sub Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Status\",children:\"Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TDescribtion\",children:\"Description\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{children:tickets.map(ticket=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",ticket._id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category: \",ticket.Category]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sub Category: \",ticket.Sub_Category]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",ticket.Status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",ticket.TDescribtion]}),/*#__PURE__*/_jsx(\"hr\",{})]},ticket._id))})]});};export default TicketPage;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","TicketPage","tickets","setTickets","searchTerm","setSearchTerm","searchType","setSearchType","fetchTickets","response","get","data","error","console","handleSearch","concat","children","onChange","e","target","value","type","onClick","map","ticket","_id","Category","Sub_Category","Status","TDescribtion"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/TicketList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TicketPage = () => {\n  const [tickets, setTickets] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchType, setSearchType] = useState('id');\n\n  useEffect(() => {\n    // Fetch all tickets from the database\n    const fetchTickets = async () => {\n      try {\n        const response = await axios.get('http://localhost:3000/Tickets/getAllTickets'); // Replace with your actual API endpoint\n        setTickets(response.data);\n      } catch (error) {\n        console.error('Error fetching tickets:', error);\n      }\n    };\n\n    fetchTickets();\n  }, []);\n\n  const handleSearch = async () => {\n    try {\n      const response = await axios.get(`/api/tickets/search?${searchType}=${searchTerm}`);\n      setTickets(response.data);\n    } catch (error) {\n      console.error('Error searching tickets:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Tickets</h1>\n\n      {/* Search form */}\n      <div>\n        <label>\n          Search by:\n          <select onChange={(e) => setSearchType(e.target.value)}>\n            <option value=\"id\">ID</option>\n            <option value=\"Category\">Category</option>\n            <option value=\"Sub_Category\">Sub Category</option>\n            <option value=\"Status\">Status</option>\n            <option value=\"TDescribtion\">Description</option>\n          </select>\n        </label>\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n\n      {/* Display tickets */}\n      <div>\n        {tickets.map((ticket) => (\n          <div key={ticket._id}>\n            <p>ID: {ticket._id}</p>\n            <p>Category: {ticket.Category}</p>\n            <p>Sub Category: {ticket.Sub_Category}</p>\n            <p>Status: {ticket.Status}</p>\n            <p>Description: {ticket.TDescribtion}</p>\n            {/* Add more ticket details as needed */}\n            <hr />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default TicketPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}