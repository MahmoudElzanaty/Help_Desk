{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateWorkflow=_ref=>{let{match}=_ref;const[formData,setFormData]=useState({user:'',Category:'',Sub_Category:'',Workflow_Steps:'',Issue_Type:''});const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');useEffect(()=>{// Fetch existing workflow details and populate the form\nconst fetchWorkflowById=async()=>{try{const response=await fetch(\"http://localhost:3000/api/v1/Workflow/getWorkflowById/\".concat(match.params.id));if(response.ok){const data=await response.json();setFormData({user:data.user,Category:data.Category,Sub_Category:data.Sub_Category,Workflow_Steps:data.Workflow_Steps,Issue_Type:data.Issue_Type});setError('');}else if(response.status===404){setError('Workflow not found');}else{setError('Error fetching workflow');}}catch(error){console.error('Error fetching workflow:',error.message);setError('An unexpected error occurred');}};fetchWorkflowById();},[match.params.id]);const handleInputChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleFormSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:3000/api/v1/Workflow/updateWorkflowById/\".concat(match.params.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});if(response.ok){const updatedWorkflow=await response.json();setSuccessMessage('Workflow updated successfully');setError('');console.log('Updated Workflow:',updatedWorkflow);}else{const errorMessage=await response.json();setError(errorMessage.error||'Error updating workflow');setSuccessMessage('');}}catch(error){console.error('Error updating workflow:',error.message);setError('An unexpected error occurred');setSuccessMessage('');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Workflow\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"User:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user\",value:formData.user,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Category\",value:formData.Category,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sub-Category:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Sub_Category\",value:formData.Sub_Category,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Workflow Steps:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Workflow_Steps\",value:formData.Workflow_Steps,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Issue Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Issue_Type\",value:formData.Issue_Type,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Workflow\"})]})]});};export default UpdateWorkflow;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","UpdateWorkflow","_ref","match","formData","setFormData","user","Category","Sub_Category","Workflow_Steps","Issue_Type","error","setError","successMessage","setSuccessMessage","fetchWorkflowById","response","fetch","concat","params","id","ok","data","json","status","console","message","handleInputChange","e","target","name","value","handleFormSubmit","preventDefault","method","headers","body","JSON","stringify","updatedWorkflow","log","errorMessage","children","style","color","onSubmit","type","onChange"],"sources":["/Users/mazen/Help_Desk/frontend/my-react-app/src/components/WorkflowUpdate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst UpdateWorkflow = ({ match }) => {\n  const [formData, setFormData] = useState({\n    user: '',\n    Category: '',\n    Sub_Category: '',\n    Workflow_Steps: '',\n    Issue_Type: '',\n  });\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  useEffect(() => {\n    // Fetch existing workflow details and populate the form\n    const fetchWorkflowById = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/api/v1/Workflow/getWorkflowById/${match.params.id}`);\n        if (response.ok) {\n          const data = await response.json();\n          setFormData({\n            user: data.user,\n            Category: data.Category,\n            Sub_Category: data.Sub_Category,\n            Workflow_Steps: data.Workflow_Steps,\n            Issue_Type: data.Issue_Type,\n          });\n          setError('');\n        } else if (response.status === 404) {\n          setError('Workflow not found');\n        } else {\n          setError('Error fetching workflow');\n        }\n      } catch (error) {\n        console.error('Error fetching workflow:', error.message);\n        setError('An unexpected error occurred');\n      }\n    };\n\n    fetchWorkflowById();\n  }, [match.params.id]);\n\n  const handleInputChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(`http://localhost:3000/api/v1/Workflow/updateWorkflowById/${match.params.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        const updatedWorkflow = await response.json();\n        setSuccessMessage('Workflow updated successfully');\n        setError('');\n        console.log('Updated Workflow:', updatedWorkflow);\n      } else {\n        const errorMessage = await response.json();\n        setError(errorMessage.error || 'Error updating workflow');\n        setSuccessMessage('');\n      }\n    } catch (error) {\n      console.error('Error updating workflow:', error.message);\n      setError('An unexpected error occurred');\n      setSuccessMessage('');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Update Workflow</h2>\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\n\n      <form onSubmit={handleFormSubmit}>\n        <div>\n          <label>User:</label>\n          <input type=\"text\" name=\"user\" value={formData.user} onChange={handleInputChange} />\n        </div>\n        <div>\n          <label>Category:</label>\n          <input type=\"text\" name=\"Category\" value={formData.Category} onChange={handleInputChange} />\n        </div>\n        <div>\n          <label>Sub-Category:</label>\n          <input type=\"text\" name=\"Sub_Category\" value={formData.Sub_Category} onChange={handleInputChange} />\n        </div>\n        <div>\n          <label>Workflow Steps:</label>\n          <input type=\"text\" name=\"Workflow_Steps\" value={formData.Workflow_Steps} onChange={handleInputChange} />\n        </div>\n        <div>\n          <label>Issue Type:</label>\n          <input type=\"text\" name=\"Issue_Type\" value={formData.Issue_Type} onChange={handleInputChange} />\n        </div>\n        <button type=\"submit\">Update Workflow</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateWorkflow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}